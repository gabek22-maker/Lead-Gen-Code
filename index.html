<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Choose Your Area</title>
  <meta name="description" content="South Surrey & White Rock buyer lead funnel — Macdonald Realty Ltd." />
  <link rel="icon" href="/favicon.ico" />
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Optional: set your form endpoint here -->
  <script>
    window.FORM_ENDPOINT = window.FORM_ENDPOINT || "https://httpbin.org/post";
  </script>
  <style>.blurball{filter:blur(80px);opacity:.6}</style>
</head>
<body class="min-h-screen bg-slate-50 text-slate-900">
  <div class="bg-[#00356b] text-white">
    <div class="mx-auto max-w-6xl px-4 py-2 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="h-9 w-9 rounded-full bg-white text-[#00356b] grid place-items-center font-black">MR</div>
        <div class="font-semibold tracking-wide">Macdonald Realty Ltd.</div>
      </div>
      <a class="underline text-sm" href="tel:+16045551234">(604) 555‑1234</a>
    </div>
  </div>

  <section class="relative overflow-hidden">
    <div class="absolute -top-24 -right-24 h-72 w-72 rounded-full bg-[#00356b]/10 blurball"></div>
    <div class="absolute -bottom-24 -left-24 h-72 w-72 rounded-full bg-indigo-200/30 blurball"></div>
    <div class="mx-auto max-w-6xl px-4 py-12 relative">
      <h1 class="font-serif text-4xl">Which area are you interested in?</h1>
      <p class="mt-2 text-slate-600">Pick a neighbourhood to get tailored listings and alerts.</p>
      <div class="mt-8 grid sm:grid-cols-2 md:grid-cols-3 gap-3" id="areaGrid"></div>
      <div class="mt-6 text-xs text-slate-500">Areas include South Surrey neighbourhoods and White Rock (with subareas).</div>
    </div>
  </section>
  <script>
    const areas = ["Crescent Beach", "Crescent Heights", "Ocean Park", "Elgin Chantrell", "Grandview Heights", "Morgan Creek", "Morgan Heights", "North Grandview Heights", "Rosemary Heights", "Pacific Douglas", "Hazelmere", "Sunnyside Park", "King George Corridor", "Semiahmoo Town Centre", "White Rock"].filter(a => a !== "White Rock");
    const grid = document.getElementById('areaGrid');

    // Render normal area cards
    areas.forEach(name => {
      const a = document.createElement('a');
      a.href = 'buyer.html';
      a.className = 'rounded-2xl bg-white border border-slate-200 p-4 hover:shadow flex items-center justify-between';
      a.innerHTML = `<span class="font-medium">${name}</span><span>→</span>`;
      a.addEventListener('click', (e) => {
        e.preventDefault();
        sessionStorage.setItem('selected_area', name);
        sessionStorage.removeItem('selected_subarea');
        location.href = 'buyer.html';
      });
      grid.appendChild(a);
    });

    // Special White Rock block with subarea chips
    const card = document.createElement('div');
    card.className = 'rounded-2xl bg-white border border-slate-200 p-4 hover:shadow flex flex-col';
    card.innerHTML = `
      <div class='flex items-center justify-between'>
        <span class='font-medium'>White Rock</span>
        <span class='text-slate-500 text-sm'>Choose a subarea</span>
      </div>
      <div class='mt-3 grid grid-cols-3 gap-2' id='wrChips'></div>
      <a href='#' id='wrAll' class='mt-3 inline-block text-sm underline'>Or choose all of White Rock →</a>
    `;
    const chips = card.querySelector('#wrChips');
    const subs = ["East Beach", "West Beach", "Uptown"];
    subs.forEach(s => {
      const btn = document.createElement('button');
      btn.type = 'button';
      btn.className = 'rounded-full border border-slate-200 bg-white px-3 py-1 text-xs hover:bg-slate-50';
      btn.textContent = s;
      btn.addEventListener('click', () => {
        sessionStorage.setItem('selected_area', 'White Rock');
        sessionStorage.setItem('selected_subarea', s);
        location.href = 'buyer.html';
      });
      chips.appendChild(btn);
    });
    card.querySelector('#wrAll').addEventListener('click', (e) => {
      e.preventDefault();
      sessionStorage.setItem('selected_area', 'White Rock');
      sessionStorage.removeItem('selected_subarea');
      location.href = 'buyer.html';
    });
    grid.appendChild(card);
  </script>

  <footer class="bg-[#00356b] text-slate-100 mt-16">
    <div class="mx-auto max-w-6xl px-4 py-8 flex items-center justify-between text-sm">
      <div>© <span id="year"></span> Macdonald Realty Ltd.</div>
      <a href="index.html" class="underline">Start over</a>
    </div>
  </footer>
  <script>document.getElementById('year').textContent = new Date().getFullYear()</script>
</body>
</html>